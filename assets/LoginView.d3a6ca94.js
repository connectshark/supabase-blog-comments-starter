import{s as g,x as w,y,z as v,d as k,o as n,f as l,h as e,p as V,i as p,l as u,g as t,j as N,q as d,A as _,n as m,F as q}from"./index.1d62df07.js";const B=e("h2",{class:"bg-primary py-10 text-white text-center font-bold text-3xl mb-8 leading-loose shadow-[0_0_0_100vmax_#7a6ae1] path"},"\u767B\u5165",-1),C={class:"max-w-lg mx-auto w-5/6"},L=["onSubmit"],M={class:"mb-4"},j=["disabled"],D={class:"mb-4"},F=["disabled"],P={class:"flex justify-end items-center space-x-6"},S={key:0,class:"text-amber-600"},T=["disabled"],U={key:0},z={key:1},A=e("i",{class:"bx bx-loader-alt bx-spin"},null,-1),E=[A],R={class:"text-center"},G={class:"text-stone-600 mb-4"},K={__name:"LoginView",setup(H){const s=g({email:"",password:""}),{loading:o,login:x,errMsg:r}=w(),{fetchProfile:b}=y(),h=v(),f=async()=>{await x({email:s.email,password:s.password}),r.value===""&&(await b(),h.push("/"))};return(I,a)=>{const c=k("router-link");return n(),l(q,null,[B,e("div",C,[e("form",{class:"mb-4",onSubmit:V(f,["prevent"])},[e("p",M,[p(e("input",{disabled:t(o),"onUpdate:modelValue":a[0]||(a[0]=i=>s.email=i),required:"",class:"focus:ring-2 disabled:text-stone-400 block w-full text-xl text-stone-700 border-none py-6 px-10 rounded-full ring-primary bg-gray-300",placeholder:"\u4FE1\u7BB1",type:"email"},null,8,j),[[u,s.email]])]),e("p",D,[p(e("input",{disabled:t(o),"onUpdate:modelValue":a[1]||(a[1]=i=>s.password=i),required:"",class:"focus:ring-2 disabled:text-stone-400 block w-full text-xl text-stone-700 border-none py-6 px-10 rounded-full ring-primary bg-gray-300",placeholder:"\u5BC6\u78BC",type:"password"},null,8,F),[[u,s.password]])]),e("div",P,[t(r)?(n(),l("span",S,"\u597D\u50CF\u54EA\u88E1\u51FA\u932F\u4E86")):N("",!0),e("button",{disabled:t(o),class:"text-md font-bold hover:opacity-80 text-white bg-primary py-4 w-24 rounded-full",type:"submit"},[t(o)?(n(),l("span",z,E)):(n(),l("span",U,"\u767B\u5165"))],8,T)])],40,L),e("div",R,[e("p",G,[d("\u9084\u6C92\u6709\u5E33\u865F\uFF1F "),_(c,{replace:"",to:"/signup",class:"underline"},{default:m(()=>[d("\u7ACB\u523B\u8A3B\u518A")]),_:1})]),e("p",null,[_(c,{class:"underline",to:"/"},{default:m(()=>[d("\u56DE\u9996\u9801")]),_:1})])])])],64)}}};export{K as default};
